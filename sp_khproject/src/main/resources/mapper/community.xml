<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="communityMapper">
  	<select id="getNextSeq" resultType="_int">
  		SELECT CUMMUNITY_SEQ.NEXTVAL FROM DUAL
  	</select>
  	<insert id="insertData" parameterType="communityDto">
  		INSERT INTO CUMMUNITY(CUM_ID, CUM_MAIN, CUM_TITLE, CUM_CONTETNT, CUM_WRITEDAY)
  			VALUES(#{cum_id}, #{cum_main}, #{cum_title}, #{cum_content}, SYSDATE)
  	</insert>
  	<select id="selectData" resultType="communityDto">
  		SELECT CUM_ID
  			 , CUM_MAIN
  			 , CUM_TITLE
  			 , CUM_CONTENT
  			 , CUM_WRITEDAY
  		  FROM CUMMUNITY
  		 WHERE CUM_ID = #{cum_id}
  	</select>
  	<update id="updateCum_View" parameterType="CommunityDto">
  		UPDATE CUMMUNITY
  		   SET CUM_VIEW = #{viewCnt} + 1
  		 WHERE CUM_ID = #{cum_id}
  	</update>
  	<delete id="deleteData">
  		DELETE FROM CUMMUNITY
  		 WHERE CUM_ID = #{cum_id}
  	</delete>
  	<update id="updateData" parameterType="CommunityDto">
  		UPDATE COMMUNITY
  		   SET CUM_TITLE = #{cum_title}
  		     , CUM_CONTENT = #{cum_content}
  		 WHERE CUM_ID = #{cum_id}
  	</update>
 </mapper>